// DOM Elements
const menuBtn = document.getElementById('menu-btn');
const searchBtn = document.getElementById('search-btn');
const cartBtn = document.getElementById('cart-btn');
const loginBtn = document.getElementById('login-btn');
const searchForm = document.querySelector('.search-form');
const navbar = document.querySelector('header nav');
const filterButtons = document.querySelectorAll('.filter-buttons .btn');
const productContainer = document.querySelector('.product-container');

// Sample Product Data
const products = [
    {
        id: 1,
        name: "Wireless Headphones",
        price: 99.99,
        category: "electronics",
        image: "https://images.unsplash.com/photo-1505740420928-5e560c06d30e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 4
    },
    {
        id: 2,
        name: "Men's Casual Shirt",
        price: 29.99,
        category: "men",
        image: "https://images.unsplash.com/photo-1598033129183-c4f50c736f10?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 5
    },
    {
        id: 3,
        name: "Women's Summer Dress",
        price: 49.99,
        category: "women",
        image: "https://images.unsplash.com/photo-1542295669297-4d352b042bca?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 4
    },
    {
        id: 4,
        name: "Smart Watch",
        price: 199.99,
        category: "electronics",
        image: "https://images.unsplash.com/photo-1523275335684-37898b6baf30?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 5
    },
    {
        id: 5,
        name: "Men's Running Shoes",
        price: 79.99,
        category: "men",
        image: "https://images.unsplash.com/photo-1542291026-7eec264c27ff?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 4
    },
    {
        id: 6,
        name: "Women's Handbag",
        price: 59.99,
        category: "women",
        image: "https://images.unsplash.com/photo-1590874103328-eac38a683ce7?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 3
    },
    {
        id: 7,
        name: "Bluetooth Speaker",
        price: 89.99,
        category: "electronics",
        image: "https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 4
    },
    {
        id: 8,
        name: "Men's Jeans",
        price: 39.99,
        category: "men",
        image: "https://images.unsplash.com/photo-1542272604-787c3835535d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=800&q=80",
        rating: 5
    }
];

// Event Listeners
menuBtn.addEventListener('click', () => {
    navbar.classList.toggle('active');
    searchForm.classList.remove('active');
});

searchBtn.addEventListener('click', () => {
    searchForm.classList.toggle('active');
    navbar.classList.remove('active');
});

window.addEventListener('scroll', () => {
    navbar.classList.remove('active');
    searchForm.classList.remove('active');
});

// Filter Products
filterButtons.forEach(button => {
    button.addEventListener('click', () => {
        // Remove active class from all buttons
        filterButtons.forEach(btn => btn.classList.remove('active'));
        // Add active class to clicked button
        button.classList.add('active');
        
        const filter = button.getAttribute('data-filter');
        filterProducts(filter);
    });
});

// Filter Products Function
function filterProducts(filter) {
    productContainer.innerHTML = '';
    
    if (filter === 'all') {
        displayProducts(products);
    } else {
        const filteredProducts = products.filter(product => product.category === filter);
        displayProducts(filteredProducts);
    }
}

// Display Products
function displayProducts(products) {
    products.forEach(product => {
        const productCard = document.createElement('div');
        productCard.classList.add('product-card');
        
        let stars = '';
        for (let i = 0; i < 5; i++) {
            if (i < product.rating) {
                stars += '<i class="fas fa-star"></i>';
            } else {
                stars += '<i class="far fa-star"></i>';
            }
        }
        
        productCard.innerHTML = `
            <div class="product-image">
                <img src="${product.image}" alt="${product.name}">
            </div>
            <div class="product-content">
                <h3>${product.name}</h3>
                <div class="stars">
                    ${stars}
                </div>
                <div class="price">$${product.price.toFixed(2)}</div>
                <button class="btn">Add to Cart</button>
            </div>
        `;
        
        productContainer.appendChild(productCard);
    });
}

// Initialize with all products
displayProducts(products);
